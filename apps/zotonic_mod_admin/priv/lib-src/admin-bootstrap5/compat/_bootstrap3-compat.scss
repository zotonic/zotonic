// Bootstrap 3 compatibility layer for Bootstrap 5 (admin).
// Only includes classes referenced in templates and removed from Bootstrap 5.

// -----------------------------------------------------------------------------
// Breakpoints to emulate Bootstrap 3 visibility helpers
$bs3-screen-sm: 768px;
$bs3-screen-md: 992px;
$bs3-screen-lg: 1200px;

// -----------------------------------------------------------------------------
// Text helpers
.text-error { @extend .text-danger; }

// -----------------------------------------------------------------------------
// Alerts
.alert-error { @extend .alert-danger; }

// -----------------------------------------------------------------------------
// Buttons
.btn-default { @extend .btn-secondary; }
.btn-small { @extend .btn-sm; }

.btn-xs {
  padding: .125rem .25rem;
  font-size: .75rem;
  line-height: 1.5;
  border-radius: $border-radius-sm;
}

.btn-group-xs > .btn { @extend .btn-xs; }

// -----------------------------------------------------------------------------
// Labels (map to badges)
.label {
  @extend .badge;
  border-radius: $border-radius;
}

.label-default { @extend .text-bg-secondary; }
.label-primary { @extend .text-bg-primary; }
.label-success { @extend .text-bg-success; }
.label-info { @extend .text-bg-info; }
.label-warning { @extend .text-bg-warning; }
.label-danger { @extend .text-bg-danger; }

// -----------------------------------------------------------------------------
// Panels (map to cards)
.panel {
  @extend .card;
  margin-bottom: $spacer;
}

.panel-heading { @extend .card-header; }
.panel-body { @extend .card-body; }
.panel-footer { @extend .card-footer; }
.panel-title { @extend .card-title; margin-bottom: 0; }

.panel-default { border-color: $border-color; }
.panel-default > .panel-heading {
  background-color: $gray-100;
  border-color: $border-color;
}

.panel-success { @extend .border-success; }
.panel-success > .panel-heading { @extend .text-bg-success; }

.panel-info { @extend .border-info; }
.panel-info > .panel-heading { @extend .text-bg-info; }

.panel-danger { @extend .border-danger; }
.panel-danger > .panel-heading { @extend .text-bg-danger; }

// -----------------------------------------------------------------------------
// Wells
.well {
  padding: $spacer;
  margin-bottom: $spacer;
  background-color: $gray-100;
  border: 1px solid $border-color;
  border-radius: $border-radius;
}

// -----------------------------------------------------------------------------
// Thumbnails
.thumbnail {
  display: block;
  padding: .25rem;
  margin-bottom: $spacer;
  background-color: $body-bg;
  border: 1px solid $border-color;
  border-radius: $border-radius;
}

.thumbnails {
  list-style: none;
  padding-left: 0;
  margin-bottom: $spacer;
  display: flex;
  flex-wrap: wrap;
  gap: $spacer;
}

// -----------------------------------------------------------------------------
// Images
.img-responsive { @extend .img-fluid; }

// -----------------------------------------------------------------------------
// Forms
.form-control-static { @extend .form-control-plaintext; }
.control-label { @extend .form-label; }
.help-block { @extend .form-text; }

.form-inline {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: .5rem;
}

.form-horizontal .form-group {
  display: flex;
  flex-wrap: wrap;
  margin-bottom: $spacer;
}

.form-horizontal .control-label {
  padding-top: calc(#{$input-padding-y} + #{$input-border-width});
}

.checkbox,
.radio {
  display: block;
  min-height: $line-height-base * 1rem;
  margin-top: .5rem;
  margin-bottom: .5rem;
}

.checkbox-inline,
.radio-inline {
  display: inline-block;
  margin-right: 1rem;
}

.input-group-addon { @extend .input-group-text; }

.input-group-btn {
  display: flex;
  align-items: stretch;
}

.input-mini { width: 60px; }
.input-small { width: 90px; }
.input-medium { width: 150px; }
.input-xlarge { width: 270px; }

// -----------------------------------------------------------------------------
// Definition lists
.dl-horizontal dt {
  float: left;
  width: 160px;
  clear: left;
  text-align: right;
}

.dl-horizontal dd { margin-left: 180px; }

// -----------------------------------------------------------------------------
// Navbar
.navbar-default {
  background-color: $gray-100;
  border-color: $border-color;
}

.navbar-inverse {
  background-color: $gray-900;
  border-color: $gray-900;
}

.navbar-default .navbar-brand,
.navbar-default .navbar-nav .nav-link { color: $navbar-light-color; }

.navbar-inverse .navbar-brand,
.navbar-inverse .navbar-nav .nav-link { color: $navbar-dark-color; }

.navbar-header {
  display: flex;
  align-items: center;
}

.navbar-right {
  margin-left: auto;
  float: right;
}

.navbar-form {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: .5rem;
}

.navbar-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: .25rem .5rem;
  border: 1px solid transparent;
  border-radius: $border-radius;
  background: none;
}

.navbar-toggle .icon-bar {
  display: block;
  width: 22px;
  height: 2px;
  background-color: currentColor;
  border-radius: 1px;
}

.navbar-toggle .icon-bar + .icon-bar { margin-top: 4px; }

.navbar-fixed-top {
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  z-index: $zindex-fixed;
}

// -----------------------------------------------------------------------------
// Pagination helpers
.pagination-centered {
  text-align: center;
}

.pagination-centered .pagination {
  justify-content: center;
}

// -----------------------------------------------------------------------------
// Page headers
.page-header {
  padding-bottom: .5rem;
  margin: 0 0 $spacer;
  border-bottom: 1px solid $border-color;
}

// -----------------------------------------------------------------------------
// Progress bar variants
.progress-bar-success { background-color: $success; }
.progress-bar-info { background-color: $info; }
.progress-bar-warning { background-color: $warning; }
.progress-bar-danger { background-color: $danger; }

// -----------------------------------------------------------------------------
// Utility helpers
.pull-left { float: left !important; }
.pull-right { float: right !important; }

.sr-only { @extend .visually-hidden; }
.sr-only-focusable { @extend .visually-hidden-focusable; }

// -----------------------------------------------------------------------------
// Responsive visibility (Bootstrap 3 semantics)
.hidden-xs {
  @media (max-width: $bs3-screen-sm - .02) { display: none !important; }
}

.visible-md,
.visible-lg { display: none !important; }

.visible-md {
  @media (min-width: $bs3-screen-md) and (max-width: $bs3-screen-lg - .02) { display: block !important; }
}

.visible-lg {
  @media (min-width: $bs3-screen-lg) { display: block !important; }
}

// -----------------------------------------------------------------------------
// Embedded responsive media
.embed-responsive {
  position: relative;
  display: block;
  height: 0;
  padding: 0;
  overflow: hidden;
}

.embed-responsive .embed-responsive-item,
.embed-responsive iframe,
.embed-responsive embed,
.embed-responsive object,
.embed-responsive video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 0;
}

.embed-responsive-16by9 { padding-bottom: 56.25%; }
.embed-responsive-4by3 { padding-bottom: 75%; }
.embed-responsive-21by9 { padding-bottom: 42.8571428571%; }
.embed-responsive-1by1 { padding-bottom: 100%; }

// -----------------------------------------------------------------------------
// Glyphicons (from Bootstrap 3)
@font-face {
  font-family: "Glyphicons Halflings";
  src: url("/lib/fonts/glyphicons-halflings-regular.eot");
  src:
    url("/lib/fonts/glyphicons-halflings-regular.eot?#iefix") format("embedded-opentype"),
    url("/lib/fonts/glyphicons-halflings-regular.woff2") format("woff2"),
    url("/lib/fonts/glyphicons-halflings-regular.woff") format("woff"),
    url("/lib/fonts/glyphicons-halflings-regular.ttf") format("truetype"),
    url("/lib/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular") format("svg");
}

.glyphicon {
  position: relative;
  top: 1px;
  display: inline-block;
  font-family: "Glyphicons Halflings";
  font-style: normal;
  font-weight: 400;
  line-height: 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.glyphicon-alert:before { content: "\e209"; }
.glyphicon-arrow-left:before { content: "\e091"; }
.glyphicon-arrow-right:before { content: "\e092"; }
.glyphicon-ban-circle:before { content: "\e090"; }
.glyphicon-camera:before { content: "\e046"; }
.glyphicon-cog:before { content: "\e019"; }
.glyphicon-duplicate:before { content: "\e224"; }
.glyphicon-envelope:before { content: "\2709"; }
.glyphicon-exclamation-sign:before { content: "\e101"; }
.glyphicon-eye-close:before { content: "\e106"; }
.glyphicon-eye-open:before { content: "\e105"; }
.glyphicon-file:before { content: "\e022"; }
.glyphicon-filter:before { content: "\e138"; }
.glyphicon-info-sign:before { content: "\e086"; }
.glyphicon-link:before { content: "\e144"; }
.glyphicon-new-window:before { content: "\e164"; }
.glyphicon-ok:before { content: "\e013"; }
.glyphicon-ok-sign:before { content: "\e084"; }
.glyphicon-pencil:before { content: "\270f"; }
.glyphicon-record:before { content: "\e165"; }
.glyphicon-remove:before { content: "\e014"; }
.glyphicon-retweet:before { content: "\e115"; }
.glyphicon-search:before { content: "\e003"; }
.glyphicon-step-backward:before { content: "\e069"; }
.glyphicon-trash:before { content: "\e020"; }
