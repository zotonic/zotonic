/* Specific styles for Zotonic admin
   ----------------------------------------------------------

@package:	Zotonic admin CSS

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
---------------------------------------------------------- */

/* LESS mixins
   --------------------------------------------------------- */

.gradient (@startColor: #eee, @endColor: white) {
	background-color: @startColor;
	background: -webkit-gradient(linear, left top, left bottom, from(@startColor), to(@endColor));
	background: -webkit-linear-gradient(top, @startColor, @endColor);
	background: -moz-linear-gradient(top, @startColor, @endColor);
	background: -ms-linear-gradient(top, @startColor, @endColor);
	background: -o-linear-gradient(top, @startColor, @endColor);
}


@baseMargin: 15px;

/* bootstrap structure
   --------------------------------------------------------- */

body {
    
    div.admin-container {
        margin: @baseMargin;
        margin-top: 70px;
    }

    &.noframe > div.admin-container {
        background: transparent;
    }

    &.wait {
        cursor: wait;
        .btn {
            cursor: wait;
        }
    }
}

.btn {
    font-size: @baseFont;
    &.btn-xs {
        font-size: @baseFont - 1px;
    }
}

div.navbar-brand .zotonic-logo {
    padding-top: 2px;
}

hr {
    background-color: #ddd;
    border-top-color: #d0d0d0;
    margin: 10px 0;
    width: 100%;
}


// #00bef8, #069cd1

.navbar-right {
    margin-right: 0;
}

.navbar-nav>li>a {
    text-shadow: 0 1px 0 rgba(0,0,0,.25);
}
.navbar-brand>img {
    margin-top: -2px;
}

/* footer edit nav
   --------------------------------------------------------- */

#rsc-image {
    position: relative;
}
div.cropguide {
    position: absolute;
}
div.cropguide.horiz {
    border-top: 1px dotted rgba(255,255,255,0.7);
    border-bottom: 1px dotted rgba(0,0,0,0.7);
    height: 0;
    left: 0; right: 0;
}
div.cropguide.vert {
    border-left: 1px dotted rgba(255,255,255,0.7);
    border-right: 1px dotted rgba(0,0,0,0.7);
    width: 0;
    top: 0; bottom: 0;
}

/* footer edit nav
   --------------------------------------------------------- */

.navbar-fixed-save {
    z-index: 1000;
    opacity: 0;
    position: fixed;
    top: 44px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    padding: 5px;
    -webkit-transition: opacity 0.5s ease-in-out;
    -moz-transition: opacity 0.5s ease-in-out;
    -o-transition: opacity 0.5s ease-in-out;
    transition: opacity 0.5s ease-in-out;
    min-height: inherit;
}
.navbar-fixed-save .navbar-inner {
    border-radius: 0 0 4px 4px;
    padding: 0 4px 0 4px;
}
.scrolled .navbar-fixed-save {
    opacity: 1.0;
}
.navbar-fixed-save .control-group {
    margin: 0 20px 0;
}
.navbar.navbar-fixed-save .pull-right {
    float: right;
}
.navbar-fixed-save label {
    color: white;
    margin-left: 20px;
}
@media (max-width: 979px) {
    body > div.container-fluid {
        margin-top: 0;
    }
    .navbar-fixed-save {
        position: fixed;
        top: 0;
        right: 0;
        left: 0;
    }
}

/* widget
   --------------------------------------------------------- */


div.widget {

    margin-bottom: 10px;
    border-bottom: none;
    border-radius: 2px;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);
    background: #f0f0f0;
    
    div.widget-content {

        margin: 10px 8px;
        
        & h1, & h2, & h3,  & h4, & h5, & h6 {
            margin: @baseMargin 0;

            &:first-of-type {
                margin-top: 0;
            }
        }

        > :last-child {
            margin-bottom: 0;
        }
        .form-group:last-child {
            padding-bottom: 10px;
        }

        &.nolang {
            > .form-group:first-child {
                padding-top: 10px;
            }
        }

        .rsc-item {
            overflow: hidden;
            height: 64px;
            padding-bottom: 4px;
            border-bottom: 1px solid white;
            img {
                margin-right: 4px;
            }
        }
    }

    &.dark {
        background: #ddd;
        .widget-header {
            background: #ddd;
        }
    }
}

li {
    > div.widget {
        border-radius: 0 0 4px 4px;
    }

    h3.widget-header {
        border-radius: 4px 4px 0 0;
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);
    }
    
}

.widget-header {
    margin: 0;
    padding: 6px;
    font-size: inherit;
    font-weight: normal;
    text-shadow: 0 1px 0 rgba(255,255,255,.5);
    .gradient(#e0e0e0, #f0f0f0);
    
    .pull-right {
        margin: -2px;
    }
    i.pull-right.glyphicon {
        margin: 1px;
        font-size: 10px;
        color: #888;
        &.white {
            color: white;
        }
    }
}    

div.widget ul.nav-tabs li.active > a {
    .gradient(#eeeeee, #ffffff);
}


/* admin forms
   --------------------------------------------------------- */

div.admin-form {
    & :last-child {
        margin-bottom: 0;
    }
}

div.form-group {
    &.row {
        // Horizontal form
        > label.control-label {
            margin-top: 9px;
            text-align: right;
        }
    }

    span.error {
        display: none;
    }
    &.error span.error {
        display: inline;
    }
}


/* admin table
   --------------------------------------------------------- */

td.clickable,
tr.clickable td {
    cursor: pointer;
}

table.do_adminLinkedTable td.view-link {
    padding: 0;
}

table.do_adminLinkedTable td a.view-link:hover {
    text-decoration: none;
}
table.do_adminLinkedTable td a.view-link {
    display: block;
    padding: 8px;
    color: inherit;
}
a.view-link .buttons {
    margin-top: -2px;
}

.table>thead>tr>th {
    border-width: 1px;
}
.table tbody tr:hover td, .table tbody tr:hover th {
    background: white;
}

table.table tr.unpublished td,
table.table tr.unpublished td a {
    color: #999;
}

table.table tr.unpublished td a.btn-success {
    color: white;
}

img.thumb {
    padding: 2px;
    border-radius: 4px;
    box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.15) inset;
}
img.admin-list-dashboard {
    width: 40px;
    height: 18px;
}
img.admin-list-overview {
    width: 80px;
    height: 60px;
}

/* admin edit page
   -------------------------------------------------------------- */

#content-address table {
    margin-bottom: 0;
}

.widget h5 {
    margin-top: 18px;
}

.pull-right p.admin-chapeau {
    text-align: right;
}

p.admin-chapeau {
    color: #999999;
    margin: 0;

    a {
        color: #999999;
        text-decoration: underline;
    }
}

ul.media {
    margin: 0;

    > li {
        margin: 0 0 18px 3px;
        background: #fff;
        width: 25%;
        height: 200px;
        max-width: 200px;
        float: left;
        margin-left: 10px;
        position: relative;
        padding: 4px;
        border: 1px solid #ddd;
        border-radius: 4px;
        -webkit-box-shadow: 0 0 4px rgba(0,0,0,.125);
        
        img {
            cursor: move;
            width: 100%;
        }
        .bottom {
            position: absolute;
            bottom: 0;
            left: 0; right: 0;
            background: rgba(255,255,255,0.9);
            padding: 2px;
            .caption {
                height: 22px;
                padding-left: 4px;
                line-height: 1.6;
                overflow: hidden;
                a {
                    word-break: break-all;
                    display: inline-block;
                    width: 85%;
                }
            }
        }
    }

    > li.ui-sortable-placeholder {
        background: #aaa;
        border-radius: 4px;
    }
}

div.edit-header {
    h2 {
        margin-top: 8px;
        margin-bottom: 18px;
        color: #333;
    }
}

div.edit-media {
    display: inline-block;
    background: white;
    padding: 4px;
    border-radius: 4px;
    box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.15) inset;
}

.ui-datepicker .ui-datepicker-header {
    height: 29px;
}

input.do_datepicker {
    width: 100px;
    display: inline;
}
input.do_timepicker {
    width: 70px;
    display: inline;
}

.do_menuedit {
    min-height:100px;
}

.tree-list.categories {
    padding-bottom: 40px;
}



/* admin edit page - blocks
   -------------------------------------------------------------- */

ul.blocks {
    padding: 0;
    margin: 0;
}
ul.blocks > li {
    list-style-type: none;
    margin-left: 0;
}
ul.blocks > li > h3 {
    cursor: move;
}
ul.blocks > li > h3 > .icon-remove,
ul.blocks > li > h3 > .pull-right {
    cursor: pointer;
}
ul.blocks > li > h3 > .pull-right {
    margin-top: 6px;
}
ul.blocks > li > h3 > input {
    margin: 2px 0 3px 0;
    height: 24px;
    width: 120px;
    display: inline;
}
ul.blocks li.block .widget {
    padding-top: 4px;
    border-radius: 0 0 4px 4px;
}
.block-add-block {
    margin-bottom: 12px;
}
.block-add-block .dropdown-menu {
    top: auto;
}

fieldset.block-name {
    margin-top: 8px;
}

h3.widget-header input.block-name {
    background: #ddd;
}
h3.widget-header input.block-name:focus {
    background: white;
}

ul.blocks .ui-sortable-placeholder {
    background: #aaa;
    border-radius: 4px;
    visibility: visible !important;
}


/* Connections
   ---------------------------------------------------------- */
ul.connections-list {
    padding-bottom: 8px;
    min-height: 1em;
}
ul.connections-list li {
    position: relative;
}
ul.connections-list li .btns {
    top: -2px;
}
a span.category {
    color: #bbb;
}
#unlink-undo-message div.alert {
    padding-right: 14px; /* right-aligned undo button in page connections */
}

/* .media-sorter .ui-sortable-placeholder, */
.connections-list .ui-sortable-placeholder {
    background: #aaa;
    border-radius: 4px;
    visibility: visible !important;
}

.form-field-error {
    color: #B94A48;
}    
.z_validation_message {
    background-color: #F2DEDE;
    border-color: #EED3D7;
    color: #B94A48;
    margin-left: 9px;
    margin-bottom: 9px;
    display: inline-block;
    vertical-align: middle;
    padding: 5px 9px;
    border-radius: 4px;
}

form.form-horizontal .z_validation_message {
    margin-bottom: 0;
}

ul.suggestions-list {
    margin: 0; padding: 0;
    list-style-type: none;
}
ul.suggestions-list li a {
    display: block;
    .gradient(#ffffff, #f5f5f5);

    border: 1px solid #E0E0E0;
    border-radius: 4px;
    margin-bottom: -1px;
    padding: 2px 4px;
}

ul.suggestions-list li a .pull-right {
    color: #999;
}

ul.suggestions-list li a:hover span.pull-right,
ul.suggestions-list li a:hover {
    color: #f5f5f5;
    background: #999;
    text-decoration: none;
}


#dialog-connect-results {
    max-height: 400px;
    overflow-y: scroll;
    padding: 10px 0;
    border-top: 1px solid #eee;
}

#dialog-connect-panels {
    .thumbnail:hover {
        background-color: #eee;
        cursor: pointer;
    }

    .thumbnails {
        .thumbnail {
            overflow: hidden;
            height: 64px;

            h6 {
                font-weight: normal;
                text-transform: lowercase;
                line-height: 13px;
            }
            
            img {
                margin-right: 4px;
            }
        }
    }
}


/* small image in admin edit */
.leader {
    float: left;
    margin-right: 10px;
    width: 48px;
    height: 48px;
    cursor: pointer;
}

span.leader {
    background: #eee;
}


/* growl message */
.notice-wrap {
	position: fixed;
	top: 60px;
	right: 20px;
	width: 300px;
	z-index: 9999;
}


/* tinyMce stuff
   --------------------------------------------------------- */

table.mceLayout, textarea.tinyMCE {
    width: 100% !important;
}

.mceToolbar td a span.mce_zmore {
	background: url(/lib/images/toolbars.gif) !important;
}

#zmedia-props-form [class*="span"] {
    margin-bottom: 20px;
}

#zmedia-props-form .control-label {
    font-weight: bold;
}

.z-tinymce-media-left {
    border: 1px solid #eee;
}

.dialog .z-tinymce-media-options label {
	float: none;
	width: auto;
}

.z-tinymce-media-options p {
	margin: 0;
}

.wp_themeSkin .mceStatusbar div {
    width: 600px;
    overflow: hidden;
}

div.widget-content .mce-tinymce.mce-container {
    border: 0;
    margin: 0 -8px -8px -8px; /* makes it fill the whole widget-content area */
}

/* sets tinyMCE font size in admin */
div.widget-content .mce-container, div.widget-content .mce-container *, div.widget-content .mce-widget, div.widget-content .mce-widget *, div.widget-content .mce-reset {
    font-size: 13px;
}


/* maps
   -------------------------------------------------------------- */

.map-wrapper {
	height: 300px;
	width: 610px;
	border: 3px solid #ddd;
	margin: 0 0 9px 0;
	border-radius: 6px;
}

/* Some extra rtl definitions */

input[type="text"].rtl, textarea.rtl {
    font-size: 150%;
}

body[dir=rtl] label {
    float: right;
    text-align: right;
}



/* admin logon */
.admin-logon {
    margin: auto;
    margin-top: 150px;
    max-width: 480px;
    width: 100%;
    
    form {
        padding: 16px;
    }

    div.buttons p {
        margin-top: 9px;
    }

    div.buttons {
        margin-top: 30px;
    }

    .widget-header {
        font-size: 17px;
        text-shadow: 0 1px 0 rgba(255,255,255,.5);
        .gradient(#ddd, #eee);
        padding: 8px;
        padding-top: 12px;
        color: #333;
    }
}

#logon_error {
    padding: 16px;
    display: none;
}
.logon_error #logon_error {
    display: block;
}
#logon_error h2, #logon_error h3 {
    font-size: 1.1em;
    line-height: 1.2em;
}
#logon_error p {
    margin-bottom: 1em;
}


/* icon status
   --------------------------------------------------------- */
span.icon_status {
    width: 17px;
    height: 17px;
    background-image: url(/lib/images/icon_status.png);
    background-repeat: no-repeat;
    background-position: -59px 0;
    margin-right: 3px;
}

span.icon_status_running, span.icon_status_ok {
    background-position: -2px 0;
}

span.icon_status_error {
    background-position: -21px 0;
}

span.icon_status_retrying, 
span.icon_status_warning {
    background-position: -40px 0;
}

span.icon_status_starting {
    background-position: -77px 0;
}

/* sidebar
   --------------------------------------------------------- */

#sidebar-date-range .tab-content {
    overflow: visible;
}

/* scroll - keep the save buttons into view
   --------------------------------------------------------- */

#sidebar-publish-page .widget-content {
    display: block;
}
#sidebar-publish-page h3.widget-header i {
    display: none;
}


/* modal - fix for tab content getting scrollbars inside modal
   --------------------------------------------------------- */
@media (min-width: 720px) {
    .modal-dialog {
        width: 700px;
    }
}

div.modal div.tab-content {
    overflow: visible;
}

div.tab-content {
    //    margin-top: 18px;
}

#dialog-connect-results {
    margin-top: 10px;
    overflow-x: hidden;
    overflow-y: auto;
}

.modal-dialog {
    .row {
        margin-right: -10px;
        margin-left: -10px;
    }

    [class*="col-"] {
        padding-right: 10px;
        padding-left: 10px;
    }

    .modal-header {
        padding: 0 10px;
        h1,h2,h3 {
            margin-top: 15px;
        }
    }

    .nav {
        margin-bottom: 12px;
    }
}

textarea, input {
    &.form-field-error {
        background: #ffeeee;
    }
}

// connect dialog

.thumbnail {
    min-height: 80px;
    h6 {
        color: #999;
        margin: 0;
    }
    h5 {
        margin: 3px 0;
    }
}
