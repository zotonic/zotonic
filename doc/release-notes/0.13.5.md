Welcome Zotonic 0.13.5, released on October 27, 2015.

This is a maintenance release of Zotonic 0.13

Main changes are:

*   Updates to the bundled tinymce and code view plugins
*   Fulltext search fixes, search terms could be stemmed multiple times
*   Many fixes to the admin css and html
*   Fixes an ACL user groups problem where the sudo permissions didn’t reflect the admin
*   Fixes a problem with the template compiler where a template could be compiled multiple times
*   Translation option to force the default language of a site
*   Fixes for the comet and postback controllers where push data was not sent with postback requests
*   New admin filter ‘temporary\_rsc’
*   Fix for a problem in mod\_video where a video could be rendered with a color space that is incompatible with QuickTime



Commits since 0.13.4
--------------------

There were 101 commits since release 0.13.4.

Big thanks to all people contributing to Zotonic!



### Git shortlog

Alex Popov (1):

*   Fixes zotonic/zotonic#1027 issue with zotonic-module script

Arjan Scherpenisse (1):

*   mod\_admin: Fix media upload when no content groups configured

Arthur Clemens (41):

*   mod\_editor\_tinymce: load the correct lib files
*   mod\_admin: improve reusability of connections interface
*   mod\_admin: fix background color of top menu on small screen
*   Make fswatch work with spaces in paths
*   mod\_admin: prevent disconnecting when pressing enter
*   mod\_admin: optimize display of connection list
*   doc: doc tweak
*   mod\_admin: tweaks
*   mod\_search: return multiple results for search by id
*   mod\_admin: improve layout of thumbnails in find dialog
*   mod\_admin: find dialog: visually distinguish existing connections for current predicate
*   mod\_admin: align connection dialogs to browser top
*   mod\_admin: remove redundant intro text
*   mod\_admin: find dialog: visually distinguish existing connections for current predicate
*   mod\_base: safer defaults
*   mod\_base: safer defaults: add type “submit” to submitting buttons
*   mod\_base: add bootstrap classname to invalid form
*   mod\_editor\_tinymce: link to correct codemirror
*   mod\_editor\_tinymce: use bootstrap classnames
*   mod\_admin: admin\_connect\_select: fix actions in cases the value undefined is passed from a template
*   docs: refactor custom admin edit page
*   revert: template comment not allowed
*   mod\_admin: remove margin from empty tree list
*   Revert “mod\_base: safer defaults”
*   Revert “mod\_base: safer defaults: add type “submit” to submitting buttons”
*   doc: describe “s” formatting character
*   mod\_menu: allow nested divs inside the list item
*   mod\_admin: make labels in list items visible
*   mod\_admin: prevent emptied tree list taking up space
*   mod\_menu: position all dialogs at the top
*   mod\_admin: show default text when no features are enabled
*   zotonic\_status: fix error message
*   doc: update zotonic\_status site screenshots
*   mod\_admin: tweak colors
*   mod\_admin: tweak panel heading
*   mod\_admin: align variables with bootstrap config
*   mod\_admin: optimize layout of date fields
*   mod\_admin: tweak colors
*   mod\_admin: make growl messages less dark
*   mod\_editor\_tinymce: update codemirror plugin
*   mod\_editor\_tinymce: replace codemirror plugin with default code editor

Maas-Maarten Zeeman (3):

*   core: Fix for using template rendered file requests
*   core: Fix for uncollapsing lib files without a dirname
*   mod\_component: Refactor of component injection code

Marc Worrell (55):

*   mod\_email\_status: styling of some buttons.
*   core: better error returns for m\_identity:set\_username\_pw/4
*   mod\_backup: fix periodic backup - broke because of added ‘is full backup’ flag in the backup list.
*   Fix a problem where the connected depictions were not always updated when adding a depiction.
*   Make the admin ‘replace media’ buttons an anchor element instead of a button.
*   Ensure that newly created connected content is in the same content group as the subject of the connection.
*   core: new pivot task return: \{delay, Delay, NewArgs\}
*   mod\_filestore: changes to the ‘move to local/remote’ queries. This fixes an issue where moving many files at the same time results in timeouts during move initialization.
*   core: refactor the template compiler, use separate compilation process so that ‘changed’ checks can continue whilst compiling.
*   mod\_acl\_user\_groups: add type=”submit” to rule-add button
*   core: fix return value check of password change.
*   mod\_acl\_user\_groups: set the default user group for user 1 and sudo to the adminstrators-group. Fixes #1042
*   mod\_admin: fix a problem with uploading media if no subject\_id is present
*   mod\_acl\_user\_groups: fix default manager-group membership for admin or sudo
*   mod\_contact: add form-group class to divs, this fixes the problem that validation errors were not flagged. Thanks to @fredpook
*   mod\_search: add query term ‘match\_objects’. This is similar to the \{match\_objects id=...\} query.
*   core: if postback is handled, also return the page message queue.
*   mod\_base: fix fetching queued transport messages
*   mod\_translation: add config ‘mod\_translation.force\_default’ to prefer the default language above the browser accept languages.
*   acl: add option to check permission as-if the typical member has been logged in. Issue #1050
*   core: better error message in z\_notifier.
*   core: fix find\_value error in m\_acl. Fixes #1052
*   mod\_acl\_user\_groups: merge fix for sudo user groups.
*   core: fix a problem where the authoritatve uri could be requested by the datamodel installer before the id dispatch rule was known.
*   core: change stemming of the full text indexes.
*   core: fix a problem with abs\_url and urls starting with ‘//’. This now correctly adds the protocol.
*   core: Stop email transmission if sender has been disabled or deleted. Fixes #1046
*   core: defined an admin as someone who is either user 1, sudo, or allowed to use the mod\_admin\_config. Fixes #1033
*   core: always return an error when looking up ‘undefined’ with name\_to\_id.
*   mod\_search: fix a problem where search texts where stemmed twice.
*   mod\_search: fix for dutch wildcard tsquery with dutch stemming; ‘overstee’ and ‘oversteek’ were mapped to ‘overstee’:\* and ‘overstek:\*
*   erlydtl: hack fix for escape filter application in arg lists. Like ‘\{foo bar=x|escape\}’. For now direct mapping to the force\_escape filter.
*   core: add dialogs and routines to move categories/content-groups/user-groups/predicates if one is deleted. Fixes #1041
*   mod\_admin: fix js problem with touch js
*   mod\_atom: fix test for new z\_stdlib:strip
*   New locked version for z\_stdlib and s3filez
*   mod\_base: fix controller\_comet for a problem where comet didn’t flush on page data if a postback controller fetched the data before. (picked from d855b1abec4b55e0c0ab7c77f4a66c08da3194bd)
*   mod\_base: export the post-loop in controller\_comet.
*   mod\_search: show growl error message on missing predicates and categories. Missing category matches the empty range. Fixes #998
*   mod\_search: ignore ‘undefined’ categories in search.
*   mod\_rest: fix a problem where a backup file could not be restored if the content group id was unknown. Fixes #1011
*   mod\_search: fix fulltext query sql. Fix searching for prefixes which are wildcards. Fixes #1061
*   core: z\_utils:is\_empty/1, define St. Juttemis date as an empty value..
*   mod\_base: add parameter less filter ‘filter’ to remove empty values from a list.
*   erlydtl: stricter definition of gb\_trees, added lookup of m\_search\_result properties.
*   core: addes z\_pivot\_rsc/get\_task/1,/2,/3 and /4. Used to check pivoted tasks
*   mod\_admin: add filter temporary\_rsc. Fixes #1044
*   docs: add some doc placeholders and documentation for the action mask\_progress.
*   mod\_video: add ‘-pix\_fmt yuv420p’ for QuickTime compatibility
*   mod\_email\_status: don’t register a ‘sender\_disabled’ error with the recipient’s status.
*   core: expose pivot\_location\_lat, pivot\_location\_lng and pivot\_geocode\_qhash as m\_rsc properties.
*   core: correct identify of MS Visio files.
*   core: allow ‘gray’ and ‘grey’ for the grey image filter.
*   core: set `Cache-Control-Allow-Origin: *` on all controller\_file replies.
*   Lock deps. Fixes a problem where the empty url was changed into ‘/’. Fixes #1066